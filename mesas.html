<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title> Fight Club Poker - Mesas </title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="icon" href="img/icon.png">
		<link rel="stylesheet" href="css/geral.css">
		<link rel="stylesheet" href="css/pages/mesas.css">
		<link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
		<link rel="apple-touch-icon-precomposed" sizes="57x57" href="img/icons/home.htmlapple-touch-icon-57x57.png" />
		<link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/icons/apple-touch-icon-114x114.png" />
		<link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/icons/apple-touch-icon-72x72.png" />
		<link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/icons/apple-touch-icon-144x144.png" />
		<link rel="apple-touch-icon-precomposed" sizes="60x60" href="img/icons/apple-touch-icon-60x60.png" />
		<link rel="apple-touch-icon-precomposed" sizes="120x120" href="img/icons/apple-touch-icon-120x120.png" />
		<link rel="apple-touch-icon-precomposed" sizes="76x76" href="img/icons/apple-touch-icon-76x76.png" />
		<link rel="apple-touch-icon-precomposed" sizes="152x152" href="img/icons/apple-touch-icon-152x152.png" />
		<link rel="icon" type="image/png" href="img/icons/favicon-196x196.png" sizes="196x196" />
		<link rel="icon" type="image/png" href="img/icons/favicon-96x96.png" sizes="96x96" />
		<link rel="icon" type="image/png" href="img/icons/favicon-32x32.png" sizes="32x32" />
		<link rel="icon" type="image/png" href="img/icons/favicon-16x16.png" sizes="16x16" />
		<link rel="icon" type="image/png" href="img/icons/favicon-128.png" sizes="128x128" />
		<meta name="application-name" content="Fight Club Poker - Mesas"/>
		<meta name="msapplication-TileColor" content="#000000" />
		<meta name="msapplication-TileImage" content="img/icons/mstile-144x144.png" />
		<meta name="msapplication-square70x70logo" content="img/icons/mstile-70x70.png" />
		<meta name="msapplication-square150x150logo" content="img/icons/mstile-150x150.png" />
		<meta name="msapplication-wide310x150logo" content="img/icons/mstile-310x150.png" />
		<meta name="msapplication-square310x310logo" content="img/icons/mstile-310x310.png" />
	</head>
	<body>
		<nav class="menu-responsivo">
			<ul class="itens-menu-responsivo animated fadeIn">
					<a class="btn-close"><i class="fa fa-times"></i></a>
					<li><a href="home.html" class="item-menu"><span>Início</span></a></li>
					<li><a href="#" class="item-menu"><span>O Clube</span></a></li>
					<li><a href="#" class="item-menu"><span>Regras</span></a></li>
					<li><a href="#" class="item-menu"><span>Ranking</span></a></li>
					<li><a href="#" class="item-menu"><span>Vencedores</span></a></li>
					<li><a href="mesas.html" class="item-menu"><span>Mesas</span></a></li>
				</ul>
		</nav>
		<header class="">
			<nav class="menu">
				<a href="#" class="logo">
					<img src="img/logo.png">
				</a>
				<ul class="itens-menu">
					<li><a href="home.html" class="item-menu"><span>Início</span></a></li>
					<li><a href="#" class="item-menu"><span>O Clube</span></a></li>
					<li><a href="#" class="item-menu"><span>Regras</span></a></li>
					<li><a href="#" class="item-menu"><span>Ranking</span></a></li>
					<li><a href="#" class="item-menu"><span>Vencedores</span></a></li>
					<li><a href="mesas.html" class="item-menu"><span>Mesas</span></a></li>
				</ul>
				<a href="#" class="item-menu btn-menu"><i class="fa fa-bars fa-lg"></i></a>
			</nav>
		</header>
		<section>
			<div class="top-tittle">
				<h1> Mesas </h1>
				<p id="last-sort">Último sorteio: --/--/----, --:--</p>
			</div>
			<div class="mesas">
				<div class="mesa-1">
					<img class="mesa-svg" src="img/mesa-1.svg">
					<div class="numeracao">
						<ul>
							<li class="number1">1</li>
							<li class="number2">2</li>
							<li class="number3">3</li>
							<li class="number4">4</li>
							<li class="number5">5</li>
							<li class="number6">6</li>
							<li class="number7">7</li>
							<li class="number8">8</li>
							<li class="number9">9</li>
						</ul>
					</div>
					<ul class="players">
						<li class="dealer1 btn-dealer" id="dealer1"><span>Dealer</span></li>
						<li class="dealer2 btn-dealer" id="dealer2"><span>Dealer</span></li>
						<li class="pos99" id="player0"><span>Player 0</span></li>
						<li class="pos99" id="player1"><span>Player 1</span></li>
						<li class="pos99" id="player2"><span>Player 2</span></li>
						<li class="pos99" id="player3"><span>Player 3</span></li>
						<li class="pos99" id="player4"><span>Player 4</span></li>
						<li class="pos99" id="player5"><span>Player 5</span></li>
						<li class="pos99" id="player6"><span>Player 6</span></li>
						<li class="pos99" id="player7"><span>Player 7</span></li>
						<li class="pos99" id="player8"><span>Player 8</span></li>
						<li class="pos99" id="player9"><span>Player 9</span></li>
						<li class="pos99" id="player10"><span>Player 10</span></li>
						<li class="pos99" id="player11"><span>Player 11</span></li>
						<li class="pos99" id="player12"><span>Player 12</span></li>
						<li class="pos99" id="player13"><span>Player 13</span></li>
						<li class="pos99" id="player14"><span>Player 14</span></li>
						<li class="pos99" id="player15"><span>Player 15</span></li>
						<li class="pos99" id="player16"><span>Player 16</span></li>
						<li class="pos99" id="player17"><span>Player 17</span></li>
					</ul>
				</div>
				<div class="mesa-2">
					<img class="mesa-svg" src="img/mesa-2.svg">
					<div class="numeracao">
						<ul>
							<li class="number1">1</li>
							<li class="number2">2</li>
							<li class="number3">3</li>
							<li class="number4">4</li>
							<li class="number5">5</li>
							<li class="number6">6</li>
							<li class="number7">7</li>
							<li class="number8">8</li>
							<li class="number9">9</li>
						</ul>
					</div>
				</div>
			</div>
			<div id="dealer-select" class="dealer-select" >
				<h3>Selecione os dealers:</h3>
				<p>Mesa 1</p>
			   	<div>
			   	    <select id="select1" class="select">
			   	    	<option disabled selected value>Selecione:</option>
			   	    	<option value="renan">Renan</option>
			   	    	<option value="vinicius">Vinicius</option>
			   	    	<option value="outro">Outro</option>
			   	    </select>
			   	    <div class="slide">
			   	    	<p>Dealer irá jogar</p>
				   	    <div class="slide-check">
				   	    	<input type="checkbox" id="checkbox1" name="checkbox1"><label for="checkbox1"></label>
				   		</div>
					</div>
			   	</div>
			   	<hr>
			   	<p>Mesa 2</p>
			   	<div>
			   	    <select id="select2" class="select">
			   	    	<option disabled selected value>Selecione:</option>
			   	    	<option value="renan">Renan</option>
			   	    	<option value="vinicius">Vinicius</option>
			   	    	<option value="outro">Outro</option>
			   	    </select>
			   	    <div class="slide">
			   	    	<p>Dealer irá jogar</p>
				   	    <div class="slide-check">
				   	    	<input type="checkbox" id="checkbox2" name="checkbox2"><label for="checkbox2"></label>
				   		</div>
					</div>
			   	</div>
				<div class="confirma">
			   		<a class="btn-confirma"><span> Confirmar </span></a>
			   	</div>
			</div>
			<div class="sorteio">
				<a class="btn-sorteio"><i class="fa fa-refresh fa-lg"><span> Sortear </span></i></a>
			</div>
		</section>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="https://use.fontawesome.com/729c709aab.js"></script>
		<script>
	        $(".btn-menu").click(function(){
	            $(".menu-responsivo").show();
	            $(".itens-menu-responsivo").show();
	            $(".btn-close").show();
	        });
	        $(".btn-close").click(function(){
	            $(".itens-menu-responsivo").hide();
	        });
        </script>
        <script>
        	$(document).ready(function(){ //função que realiza o sorteio das posições
	        	function sorteio(d1,d2){
		        	var maximo = 18;
					var resultados = 18;

					var i, arr = [];
					for (i = 0; i < maximo; i++) {
					    arr[i] = i + 1;
					}

					var p, n, tmp;
					for (p = arr.length; p;) {
					    n = Math.random() * p-- | 0;
					    tmp = arr[n];
					    arr[n] = arr[p];
					    arr[p] = tmp;
					}

					for (var i = 0; i < resultados; i++) {
						$('#player' + i).removeClass();
						$('#player' + i).addClass('pos' + arr[i]);
					}

					var tmp1, tmp2;
					if(d1 == 4){
						tmp1 = $(".pos9").attr('id'); //captura quem está na posição 9
						tmp2 = $("#player4").attr('class'); //captura a posição atual do player 4
						$("#player4").removeClass().addClass('pos9'); //define player 4 na posição 9
						$("#" + tmp1).removeClass().addClass(tmp2); //define o player x na posição antiga

					}if(d2 == 4){
						tmp1 = $(".pos18").attr('id'); //captura quem está na posição 18
						tmp2 = $("#player4").attr('class'); //captura a posição atual do player 4
						$("#player4").removeClass().addClass('pos18'); //define player 4 na posição 9
						$("#" + tmp1).removeClass().addClass(tmp2); //define o player x na posição antiga
					}

				}

	        	$(".btn-sorteio").click(function(){
	        		$('#dealer-select').slideDown(1000); //mostra tela de seleção de dealer
	        		$('html, body').animate({ scrollTop: $(document).height() }, 1000);
	        	});

	        	$("#select1").change(function(){ //remove o dealer selecionado da outra lista
	        		$("#select2 option").show();
	        		var select = $("#select1 option:selected").val();
	        		if(select !== "outro"){
	        			$("#select2 option[value=" + select + "]").hide();
	        		}
	        	});

	        	$("#select2").change(function(){ //remove o dealer selecionado da outra lista
	        		$("#select1 option").show();
	        		var select = $("#select2 option:selected").val();
	        		if(select !== "outro"){
	        			$("#select1 option[value=" + select + "]").hide();
	        		}
	        	});

	        	$(".btn-confirma").click(function(){
	        		var dealer1 = $("#select1 option:selected").val();
	        		var dealer2 = $("#select2 option:selected").val();
	        		var checkbox1 = $("#checkbox1").is(":checked");
	        		var checkbox2 = $("#checkbox2").is(":checked");
	        		var d1 = 100;
	        		var d2 = 100;

	        		if(checkbox1){
	        			switch(dealer1){
	        				case "renan":
	        					d1 = 4;
	        					break;
	        			}
	        		}

	        		if(checkbox2){
	        			switch(dealer2){
	        				case "renan":
	        					d2 = 4;
	        					break;	
	        			}
	        		}

	        		sorteio(d1,d2); //chama a função sorteio

	        		now = new Date //mostra a data do ultimo sorteio na tela
	        		$("#last-sort").text("Último sorteio: " + now.getDate() + "/" + now.getMonth()+1 + "/" + now.getFullYear() + " " + now.getHours() + ":" + (now.getMinutes()<10?'0':'') + now.getMinutes());

	        		$("#dealer-select").slideUp(1000);
	        		$('html, body').animate({ scrollTop: 0 }, 1000);

	        	});
	        });
        </script>
        <script>
        	$(document).ready(function(){
        		$('.slide-check label').click(function(){
        			$(this).closest(".slide-check").toggleClass('active'); //slide verde ao selecionar
        		});
        	});
        </script>
	</body>
</html>